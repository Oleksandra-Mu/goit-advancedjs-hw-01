{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = { email: '', message: '' };\nconst feedbackForm = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\n\nconst save = (key, data) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst load = key => {\n  try {\n    const dataFromLS = localStorage.getItem(key);\n\n    return dataFromLS === null ? undefined : JSON.parse(dataFromLS);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst fillFormField = () => {\n  const formDataFromLS = load(localStorageKey);\n\n  if (formDataFromLS === undefined) {\n    return;\n  }\n\n  const formDataFromLSKeys = Object.keys(formDataFromLS);\n\n  formDataFromLSKeys.forEach(key => {\n    feedbackForm.elements[key].value = formDataFromLS[key];\n    formData[key] = formDataFromLS[key];\n  });\n};\n\nfillFormField();\n\nfeedbackForm.addEventListener('input', evt => {\n  const { target: formField } = evt;\n\n  const fieldName = formField.name;\n  const fieldValue = formField.value;\n\n  formData[fieldName] = fieldValue;\n\n  save(localStorageKey, formData);\n});\n\nfeedbackForm.addEventListener('submit', evt => {\n  evt.preventDefault();\n\n  const formDataValues = Object.values(formData);\n\n  if (formDataValues.some(el => el === '')) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n  evt.currentTarget.reset();\n  localStorage.removeItem(localStorageKey);\n\n  formData.email = '';\n  formData.message = '';\n});\n"],"names":["formData","feedbackForm","localStorageKey","save","key","data","err","load","dataFromLS","fillFormField","formDataFromLS","evt","formField","fieldName","fieldValue","el"],"mappings":"oDAAA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAkB,sBAElBC,EAAO,CAACC,EAAKC,IAAS,CAC1B,GAAI,CACF,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAC/C,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEMC,EAAOH,GAAO,CAClB,GAAI,CACF,MAAMI,EAAa,aAAa,QAAQJ,CAAG,EAE3C,OAAOI,IAAe,KAAO,OAAY,KAAK,MAAMA,CAAU,CAC/D,OAAQF,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEMG,EAAgB,IAAM,CAC1B,MAAMC,EAAiBH,EAAKL,CAAe,EAE3C,GAAIQ,IAAmB,OACrB,OAGyB,OAAO,KAAKA,CAAc,EAElC,QAAQN,GAAO,CAChCH,EAAa,SAASG,CAAG,EAAE,MAAQM,EAAeN,CAAG,EACrDJ,EAASI,CAAG,EAAIM,EAAeN,CAAG,CACtC,CAAG,CACH,EAEAK,IAEAR,EAAa,iBAAiB,QAASU,GAAO,CAC5C,KAAM,CAAE,OAAQC,CAAW,EAAGD,EAExBE,EAAYD,EAAU,KACtBE,EAAaF,EAAU,MAE7BZ,EAASa,CAAS,EAAIC,EAEtBX,EAAKD,EAAiBF,CAAQ,CAChC,CAAC,EAEDC,EAAa,iBAAiB,SAAUU,GAAO,CAK7C,GAJAA,EAAI,eAAc,EAEK,OAAO,OAAOX,CAAQ,EAE1B,KAAKe,GAAMA,IAAO,EAAE,EAAG,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIf,CAAQ,EACpBW,EAAI,cAAc,QAClB,aAAa,WAAWT,CAAe,EAEvCF,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,CAAC"}